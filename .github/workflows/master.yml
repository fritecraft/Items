name: Build and release
on:
 push:
   tags:
     - 'v*'
jobs:
 build:
   runs-on: ubuntu-latest
   steps:
   - uses: actions/checkout@v1
   - name: Create Release
     id: create_release
     uses: actions/create-release@v1
     env:
       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
     with:
       tag_name: ${{ github.ref }}
       release_name: Release ${{ github.ref }}
       body: Auto generated release
       # draft: true
       # prerelease: false
   - name: Zip Folder
      run: zip -r items.zip assets/ pack.png pack.mcmeta     
   # - name: Create Zip
     # uses: papeloto/action-zip@v1
     # with:
       # files: assets/ pack.png pack.mcmeta 
       # dest: items.zip    
   - name: Upload Assets to Release with a wildcard
     uses: csexton/release-asset-action@v2
     with:
       pattern: "items.zip"
       github-token: ${{ secrets.GITHUB_TOKEN }}
       release-url: ${{ steps.create_release.outputs.upload_url }}




# on:
  # push:
    # # Sequence of patterns matched against refs/tags
    # tags:
      # - 'v*' # Push events to matching v*, i.e. v1.0, v20.15.10

# name: Create Release

# jobs:
  # build:
    # name: Create Release
    # runs-on: ubuntu-latest
    # steps:
      # - name: Checkout code
        # uses: actions/checkout@v2
      # - name: Create Release
        # id: create_release
        # uses: actions/create-release@v1
        # env:
          # GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # This token is provided by Actions, you do not need to create your own token
        # with:
          # tag_name: ${{ github.ref }}
          # release_name: Release ${{ github.ref }}
          # body: |
            # Changes in this Release
            # - First Change
            # - Second Change
          # draft: false
          # prerelease: false


# name: Zip Files
# on:
  # push:
    # branches:
      # - master
# jobs:
  # zip-files:
    # runs-on: ubuntu-latest
    # steps:
      # - uses: actions/checkout@v2
      # - uses: papeloto/action-zip@v1
        # with:
          # files: assets/ pack.png pack.mcmeta 
          # dest: items.zip


# name: Create Zip
# on:
  # push:
    # branches:
      # - master
# jobs:
  # build:
    # runs-on: ubuntu-latest
    # steps:
    # - uses: actions/checkout@v1
    # - name: Zip Folder
      # run: zip -r items.zip assets/ pack.png pack.mcmeta 
    # - name: Release to Github
      # run: echo "Release"
    # - name: Upload Release
      # uses: ncipollo/release-action@v1
      # with:
        # artifacts: "items.zip"
        # token: ${{ secrets.GITHUB_TOKEN }} 

# jobs:

  # build:
    # runs-on: ubuntu-latest
    # steps:
    # - uses: actions/checkout@v1
    # - uses: ncipollo/release-action@v1
      # with:
        # artifacts: "release.tar.gz,foo/*.txt"
        # bodyFile: "body.md"
        # token: ${{ secrets.GITHUB_TOKEN }}